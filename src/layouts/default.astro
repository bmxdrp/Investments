---
import "@styles/global.css";
import Sidebar from "@components/dashboard/sidebar.astro";

interface Props {
  title: string | null;
  activePage: string;
  description?: string;
  noIndex?: boolean;
  name: string | null;
  user_type: string | null;
}

const {
  title = "Dashboard - Capyte",
  activePage,
  description = "Panel de control de inversiones - Capyte",
  noIndex = true,
  name,
  user_type,
} = Astro.props;
---
<!doctype html>
<html lang="es" transition:animate="fade">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{title}</title>
    <meta name="description" content={description} />

    {noIndex && <meta name="robots" content="noindex, nofollow" />}

    <link rel="icon" type="image/png" href="/logo.png" />
    <meta name="theme-color" content="#1c1917" />

    <style is:global>
      /* Zen Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-zen-fade-up {
        animation: fadeInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      .stagger-1 {
        animation-delay: 50ms;
      }
      .stagger-2 {
        animation-delay: 100ms;
      }
      .stagger-3 {
        animation-delay: 150ms;
      }
      .stagger-4 {
        animation-delay: 200ms;
      }
      .stagger-5 {
        animation-delay: 250ms;
      }

      /* Smooth inputs transition */
      input,
      select,
      textarea,
      button,
      a {
        transition-property: color, background-color, border-color,
          text-decoration-color, fill, stroke, opacity, box-shadow, transform,
          filter, backdrop-filter;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 200ms;
      }

      /* Custom Scrollbar for Zen look */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #d6d3d1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #a8a29e;
      }
    </style>
  </head>
  <body
    class="min-h-dvh bg-stone-50 text-stone-900 font-sans antialiased selection:bg-blue-100 selection:text-blue-900"
  >
    <div class="flex flex-row justify-between min-h-dvh w-full relative">
      <aside
        class="lg:w-60 h-dvh fixed top-0 left-0 bg-white border-r border-stone-100 z-50"
      >
        <Sidebar activePage={activePage} name={name} user_type={user_type} />
      </aside>

      <main
        class="flex-1 w-full lg:ml-72 p-6 lg:p-12 pt-20 lg:pt-12 min-h-dvh"
        transition:animate="slide"
      >
        <div class="max-w-6xl mx-auto animate-zen-fade-up">
          <slot />
        </div>
      </main>
    </div>
  </body>
</html>
