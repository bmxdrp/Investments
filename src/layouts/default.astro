---
import "@styles/global.css";
import Sidebar from "@components/dashboard/sidebar.astro";

interface Props {
  title: string | null;
  activePage: string;
  description?: string;
  noIndex?: boolean;
}

const {
  title = "Dashboard - Capyte",
  activePage,
  description = "Panel de control de inversiones - Capyte",
  noIndex = true,
} = Astro.props;
---
<!doctype html>
<html lang="es" transition:animate="fade">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{title}</title>
    <meta name="description" content={description} />
    {noIndex && <meta name="robots" content="noindex, nofollow" />}

    <link rel="icon" type="image/png" href="/logo.png" />
    <meta name="theme-color" content="#1c1917" />

    <style is:global>
      /* Zen Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-zen-fade-up {
        animation: fadeInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      .stagger-1 { animation-delay: 50ms; }
      .stagger-2 { animation-delay: 100ms; }
      .stagger-3 { animation-delay: 150ms; }
      .stagger-4 { animation-delay: 200ms; }
      .stagger-5 { animation-delay: 250ms; }

      input,
      select,
      textarea,
      button,
      a {
        transition-property: color, background-color, border-color,
          text-decoration-color, fill, stroke, opacity, box-shadow, transform,
          filter, backdrop-filter;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 200ms;
      }

      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-thumb {
        background: #d6d3d1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #a8a29e;
      }
    </style>
  </head>

  <body class="min-h-dvh bg-stone-50 text-stone-900 font-sans antialiased selection:bg-blue-100 selection:text-blue-900" style="background-image:radial-gradient(circle at 20% 80%, rgba(255,182,153,.3) 0%, transparent 50%),radial-gradient(circle at 80% 20%, rgba(255,244,214,.5) 0%, transparent 50%),radial-gradient(circle at 40% 40%, rgba(255,182,153,.1) 0%, transparent 50%)">
    <!-- ASIDE -->
    <aside class="fixed inset-y-0 rigth-0 z-40 w-60 transition-transform duration-300">
      <Sidebar activePage={activePage} />
    </aside>
    <!-- CONTENT -->
    <div class="ml-0 lg:ml-60 flex min-h-dvh flex-col transition-[margin] duration-300">
      <!-- MAIN -->
      <main class="flex-1 p-6">
        <div class="mx-auto max-w-6xl animate-zen-fade-up">
          <slot />
        </div>
      </main>
      <!-- FOOTER (ligado al content) -->
      <footer
      class="py-3 md:py-6 px-4 sm:px-6 lg:px-8 border-t border-stone-300 bg-stone-200"
      style="background-image:radial-gradient(circle at 20% 80%, rgba(255,182,153,.3) 0%, transparent 50%),radial-gradient(circle at 80% 20%, rgba(255,244,214,.5) 0%, transparent 50%),radial-gradient(circle at 40% 40%, rgba(255,182,153,.1) 0%, transparent 50%)"    >

      <div
        class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-6"
      >
        <div class="flex items-center gap-3">
          <div
            class="size-10 rounded-lg flex items-center justify-center drop-shadow-sm/30"
          >
            <img
        src="/logo.png"
        alt="Capyte"
        class="relative rounded-xl shadow-sm bg-white p-1"
      />
          </div>
          <span class="text-lg font-bold text-stone-600">Capyte</span>
        </div>
        <p class="text-sm text-stone-600">
          Â© 2025 Capyte. Construido con solidez y calma.
        </p>
      </div>
     </footer>
    </div>
  </body>
</html>
